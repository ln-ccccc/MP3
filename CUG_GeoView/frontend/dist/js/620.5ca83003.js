"use strict";(self["webpackChunkgeoview"]=self["webpackChunkgeoview"]||[]).push([[620],{104:function(e,s,t){t.d(s,{A:function(){return o}});var i=t(6768);function l(e,s,t,l,r,a){const n=(0,i.g2)("el-col"),o=(0,i.g2)("el-row");return(0,i.uX)(),(0,i.Wv)(o,{justify:"center",align:"middle"},{default:(0,i.k6)(()=>[(0,i.bF)(n,{xs:8,sm:8,md:8,lg:8,xl:8},{default:(0,i.k6)(()=>[(0,i.Lk)("div",null,[(0,i.RG)(e.$slots,"left")])]),_:3}),(0,i.bF)(n,{xs:8,sm:8,md:8,lg:8,xl:8,style:{"text-align":"center"}},{default:(0,i.k6)(()=>[(0,i.Lk)("div",null,[(0,i.RG)(e.$slots,"mid")])]),_:3}),(0,i.bF)(n,{xs:7,sm:7,md:7,lg:7,xl:7,style:{"text-align":"right"}},{default:(0,i.k6)(()=>[(0,i.Lk)("div",null,[(0,i.RG)(e.$slots,"right")])]),_:3}),(0,i.bF)(n,{xs:1,sm:1,md:1,lg:1,xl:1})]),_:3})}var r={name:"Tabinfor"},a=t(1241);const n=(0,a.A)(r,[["render",l]]);var o=n},2043:function(e,s,t){e.exports=t.p+"img/aurora.b0e9f448.png"},2063:function(e,s,t){e.exports=t.p+"img/neon.4a239f83.png"},3249:function(e,s,t){e.exports=t.p+"img/woods.daa2db40.png"},3490:function(e,s,t){t.d(s,{A:function(){return o}});var i=t(6768);function l(e,s,t,l,r,a){const n=(0,i.g2)("el-col"),o=(0,i.g2)("el-row"),d=(0,i.g2)("el-header");return(0,i.uX)(),(0,i.Wv)(d,{height:"60px"},{default:(0,i.k6)(()=>[(0,i.bF)(o,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{xs:12,sm:12,md:16,lg:16,xl:16,class:"hidden-sm-and-down",style:{"margin-left":"30px"}}),(0,i.bF)(n,{xs:24,sm:24,md:8,lg:4,xl:4,style:{"margin-left":"30px"}},{default:(0,i.k6)(()=>[s[2]||(s[2]=(0,i.eW)(" more details please click ",-1)),(0,i.Lk)("a",{onClick:s[0]||(s[0]=(...e)=>a.goGithub&&a.goGithub(...e))},[...s[1]||(s[1]=[(0,i.eW)("here",-1),(0,i.Lk)("i",{class:"iconfont icon-dianji1"},null,-1)])])]),_:1})]),_:1})]),_:1})}var r={name:"Bottominfor",methods:{goGithub(){window.open("https://github.com/PaddleCV-SIG/GeoView")}}},a=t(1241);const n=(0,a.A)(r,[["render",l],["__scopeId","data-v-1a665ad6"]]);var o=n},3620:function(e,s,t){t.r(s),t.d(s,{default:function(){return Ae}});var i=t(6768),l=t(4232),r=t(5130);const a={key:0,class:"clear-queue"},n={class:"upload-box"},o={class:"upload-item"},d={class:"upload-item"},c={class:"slider-box"},h={class:"slider-item"},u={class:"slider-item"},p={class:"prehandle-label container"},m={class:"container prehandle-label"},g={class:"container prehandle-label"},k={class:"container prehandle-label"},f={class:"custom-model"},v={key:0},b={class:"handle-button"},L={key:2},w={class:"handle-words"},y=["onClick"],_={class:"handle-words"},x=["onClick"],A={class:"handle-words"},S=["onClick"],C={key:0,class:"prehandle-label container"},I=["checked"],R={class:"go-bold"},F={class:"render-img-box"},E={key:0,class:"display-modeA"},$=["src"],W=["src"],X=["src"],M=["src"],U=["src"],P={class:"img-wrapper"},B=["src"],G=["src"],Q={key:1,class:"display-modeB"},j={class:"render-img modeB-item"},O={class:"render-img modeB-item"},T={class:"render-img modeB-item"},D={style:{position:"relative"}},z={key:0},V={key:0,style:{position:"absolute",top:"0",right:"0"}},q={class:"render-select-box"},H={class:"rendr-style"},K={class:"cl-checkbox"},J={class:"render-select"},N={key:0},Y={key:1},Z=["onClick"],ee={style:{"text-align":"center"}},se={style:{"text-align":"center"}},te={class:"swiper-img"};function ie(e,s,t,ie,le,re){const ae=(0,i.g2)("Tabinfor"),ne=(0,i.g2)("el-divider"),oe=(0,i.g2)("el-button"),de=(0,i.g2)("el-upload"),ce=(0,i.g2)("el-slider"),he=(0,i.g2)("el-row"),ue=(0,i.g2)("el-radio"),pe=(0,i.g2)("el-image"),me=(0,i.g2)("el-col"),ge=(0,i.g2)("el-card"),ke=(0,i.g2)("el-empty"),fe=(0,i.g2)("DraggableItem"),ve=(0,i.g2)("Bottominfor");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(ae,null,{left:(0,i.k6)(()=>[...s[30]||(s[30]=[(0,i.Lk)("div",{id:"sub-title"},[(0,i.eW)(" 时序变化分析"),(0,i.Lk)("i",{class:"icon-click"})],-1)])]),_:1}),(0,i.bF)(ne),s[79]||(s[79]=(0,i.Fv)('<p data-v-1511cb98> 请选择待分析的<span class="go-bold" data-v-1511cb98>影像数据文件夹</span><i class="icon-folder-new" data-v-1511cb98></i>或<span class="go-bold" data-v-1511cb98>影像文件</span><i class="icon-upload-new" data-v-1511cb98></i>，请确保影像数据<span class="go-bold" data-v-1511cb98>格式符合要求</span>，同组对比影像需<span class="go-bold" data-v-1511cb98>分别</span>存放在两个文件夹中 </p><p style="text-decoration:underline;" data-v-1511cb98><i class="icon-warning" data-v-1511cb98></i>提示：同组对比影像请使用<span class="go-bold" data-v-1511cb98>统一命名规则</span>，系统将根据文件名进行<span class="go-bold" data-v-1511cb98>自动配对</span>分析 </p><p data-v-1511cb98></p>',3)),(0,i.bF)(ge,{style:{border:"4px dashed var(--el-border-color)",position:"relative"}},{default:(0,i.k6)(()=>[le.fileList1.length||le.fileList2.length?((0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(oe,{type:"primary",class:"btn-animate2 btn-animate__surround",onClick:re.clearQueue},{default:(0,i.k6)(()=>[...s[31]||(s[31]=[(0,i.eW)(" 清空图片 ",-1)])]),_:1},8,["onClick"])])):(0,i.Q3)("",!0),(0,i.Lk)("div",n,[(0,i.Lk)("div",o,[(0,i.bF)(de,{ref:"uploadA","file-list":le.fileList1,"onUpdate:fileList":s[0]||(s[0]=e=>le.fileList1=e),drag:"",action:"#",multiple:"","auto-upload":!1,onChange:re.checkFile1},{default:(0,i.k6)(()=>[...s[32]||(s[32]=[(0,i.Lk)("i",{class:"iconfont icon-yunduanshangchuan"},null,-1),(0,i.Lk)("div",{class:"el-upload__text"},[(0,i.eW)(" 将文件夹或图片拖到此处，或"),(0,i.Lk)("em",null,"点击上传")],-1),(0,i.Lk)("div",{class:"el-upload__tip"}," 只能上传一张或多张图片，请在下方上传文件夹 ",-1)])]),_:1},8,["file-list","onChange"]),(0,i.Lk)("div",null,[(0,i.Lk)("input",{id:"upload-fileA",ref:"refFileA",type:"file",webkitdirectory:"",directory:"",multiple:"",onChange:s[1]||(s[1]=(...e)=>re.uploadFirst&&re.uploadFirst(...e))},null,544),(0,i.Lk)("i",{class:"iconfont icon-wenjianshangchuan",onClick:s[2]||(s[2]=(...e)=>re.file1Click&&re.file1Click(...e))},"上传文件夹")])]),(0,i.Lk)("div",d,[(0,i.bF)(de,{ref:"uploadB","file-list":le.fileList2,"onUpdate:fileList":s[3]||(s[3]=e=>le.fileList2=e),drag:"",action:"#",multiple:"","auto-upload":!1,onChange:re.checkFile2},{default:(0,i.k6)(()=>[...s[33]||(s[33]=[(0,i.Lk)("i",{class:"iconfont icon-yunduanshangchuan"},null,-1),(0,i.Lk)("div",{class:"el-upload__text"},[(0,i.eW)(" 将文件夹或图片拖到此处，或"),(0,i.Lk)("em",null,"点击上传")],-1),(0,i.Lk)("div",{class:"el-upload__tip"}," 只能上传一张或多张图片，请在下方上传文件夹 ",-1)])]),_:1},8,["file-list","onChange"]),(0,i.Lk)("div",null,[(0,i.Lk)("input",{id:"upload-fileB",ref:"refFileB",type:"file",webkitdirectory:"",directory:"",multiple:"",onChange:s[4]||(s[4]=(...e)=>re.uploadSecond&&re.uploadSecond(...e))},null,544),(0,i.Lk)("i",{class:"iconfont icon-wenjianshangchuan",onClick:s[5]||(s[5]=(...e)=>re.file2Click&&re.file2Click(...e))},"上传文件夹")])])]),(0,i.Lk)("div",c,[(0,i.Lk)("div",h,[s[34]||(s[34]=(0,i.Lk)("div",null,"自定义窗口：",-1)),(0,i.bF)(ce,{modelValue:le.upload.window_size,"onUpdate:modelValue":s[6]||(s[6]=e=>le.upload.window_size=e),"show-input":"",max:512},null,8,["modelValue"])]),(0,i.Lk)("div",u,[s[35]||(s[35]=(0,i.Lk)("span",null,"自定义步长：",-1)),(0,i.bF)(ce,{modelValue:le.upload.stride,"onUpdate:modelValue":s[7]||(s[7]=e=>le.upload.stride=e),"show-input":"",max:le.upload.window_size},null,8,["modelValue","max"])])]),(0,i.bF)(he,{justify:"center",align:"middle"},{default:(0,i.k6)(()=>[s[40]||(s[40]=(0,i.Lk)("i",{class:"iconfont icon-tuxingtuxiangchuli"},null,-1)),s[41]||(s[41]=(0,i.Lk)("p",null,"图像增强：",-1)),(0,i.Lk)("p",null,[(0,i.Lk)("label",p,[(0,i.Lk)("input",{ref:"histogram",type:"checkbox",onChange:s[8]||(s[8]=e=>re.selectHistogram())},null,544),s[36]||(s[36]=(0,i.Lk)("span",{class:"checkmark"},null,-1)),s[37]||(s[37]=(0,i.Lk)("span",{class:"go-bold label-words"},"直方图匹配",-1))]),(0,i.Lk)("label",m,[(0,i.Lk)("input",{ref:"sharpen",type:"checkbox",onChange:s[9]||(s[9]=e=>re.selectSharpen())},null,544),s[38]||(s[38]=(0,i.Lk)("span",{class:"checkmark"},null,-1)),s[39]||(s[39]=(0,i.Lk)("span",{class:"go-bold label-words"},"锐化",-1))])])]),_:1}),(0,i.bF)(he,{justify:"center",align:"middle"},{default:(0,i.k6)(()=>[s[46]||(s[46]=(0,i.Lk)("i",{class:"iconfont icon-agora_AIjiangzao"},null,-1)),s[47]||(s[47]=(0,i.eW)()),s[48]||(s[48]=(0,i.Lk)("p",null,"降噪处理：",-1)),(0,i.Lk)("p",null,[(0,i.Lk)("label",g,[(0,i.Lk)("input",{ref:"smooth",type:"checkbox",onChange:s[10]||(s[10]=e=>re.selectSmooth())},null,544),s[42]||(s[42]=(0,i.Lk)("span",{class:"checkmark"},null,-1)),s[43]||(s[43]=(0,i.Lk)("span",{class:"go-bold label-words"},"平滑",-1))]),(0,i.Lk)("label",k,[(0,i.Lk)("input",{ref:"filter",type:"checkbox",onChange:s[11]||(s[11]=e=>re.selectFilter())},null,544),s[44]||(s[44]=(0,i.Lk)("span",{class:"checkmark"},null,-1)),s[45]||(s[45]=(0,i.Lk)("span",{class:"go-bold label-words"},"滤波",-1))])])]),_:1}),(0,i.bF)(he,{justify:"center"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",f,[s[49]||(s[49]=(0,i.eW)(" 可选训练模型： ",-1)),0===le.modelPathArr.length?((0,i.uX)(),(0,i.CE)("span",v,"未检测到模型文件，请查看上传目录是否有误")):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.modelPathArr,(e,t)=>((0,i.uX)(),(0,i.Wv)(ue,{key:t,modelValue:le.upload.model_path,"onUpdate:modelValue":s[12]||(s[12]=e=>le.upload.model_path=e),class:"choose-item",label:e.model_path},{default:(0,i.k6)(()=>[(0,i.eW)((0,l.v_)(e.model_name),1)]),_:2},1032,["modelValue","label"]))),128))])]),_:1}),(0,i.Lk)("div",b,[(0,i.bF)(oe,{type:"primary",class:"btn-animate btn-animate__shiny",onClick:re.uploadfile},{default:(0,i.k6)(()=>[...s[50]||(s[50]=[(0,i.eW)(" 开始处理 ",-1)])]),_:1},8,["onClick"])]),le.upload.prehandle?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(ne,{key:1})),le.upload.prehandle?((0,i.uX)(),(0,i.CE)("div",L,[(0,i.bo)((0,i.Lk)("div",null,[s[55]||(s[55]=(0,i.Lk)("div",{id:"sub-title"},[(0,i.eW)(" 直方图匹配结果预览 "),(0,i.Lk)("i",{class:"iconfont icon-dianji"})],-1)),(0,i.bF)(ne),(0,i.bF)(he,{justify:"center",gutter:20},{default:(0,i.k6)(()=>[(0,i.bF)(me,{xs:24,sm:24,md:7,lg:7,xl:7},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.Img1,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),s[51]||(s[51]=(0,i.Lk)("div",{class:"handle-words"}," 第一时期图 ",-1))]))),128))]),_:1}),(0,i.bF)(me,{xs:24,sm:24,md:7,lg:7,xl:7},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.Img2,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),(0,i.Lk)("div",w,[s[53]||(s[53]=(0,i.eW)(" 匹配后的第一时期图 ",-1)),(0,i.Lk)("span",{onClick:s=>re.downloadimgWithWords(++le.hisNum,e,"直方图匹配后第一时期图.png")},[...s[52]||(s[52]=[(0,i.Lk)("i",{class:"iconfont icon-xiazai"},null,-1)])],8,y)])]))),128))]),_:1}),(0,i.bF)(me,{xs:24,sm:24,md:7,lg:7,xl:7},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.Img3,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),s[54]||(s[54]=(0,i.Lk)("div",{class:"handle-words"}," 第二时期图 ",-1))]))),128))]),_:1})]),_:1})],512),[[r.aG,1===le.upload.prehandle]]),(0,i.bo)((0,i.Lk)("div",null,[s[62]||(s[62]=(0,i.Lk)("div",{id:"sub-title"},[(0,i.eW)(" 锐化结果预览"),(0,i.Lk)("i",{class:"iconfont icon-dianji"})],-1)),(0,i.bF)(ne),(0,i.bF)(he,{justify:"center",gutter:20},{default:(0,i.k6)(()=>[(0,i.bF)(me,{xs:10,sm:10,md:6,lg:6,xl:6},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.Img1,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),s[56]||(s[56]=(0,i.Lk)("div",{class:"handle-words"}," 第一时期图 ",-1))]))),128))]),_:1}),(0,i.bF)(me,{xs:10,sm:10,md:6,lg:6,xl:6},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.sharpenImg1,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),(0,i.Lk)("div",_,[s[58]||(s[58]=(0,i.eW)(" 锐化后的第一时期图 ",-1)),(0,i.Lk)("span",{onClick:s=>re.downloadimgWithWords(-1,e,"锐化处理后第一时期图.png")},[...s[57]||(s[57]=[(0,i.Lk)("i",{class:"iconfont icon-xiazai"},null,-1)])],8,x)])]))),128))]),_:1}),(0,i.bF)(me,{xs:10,sm:10,md:6,lg:6,xl:6},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.Img3,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),s[59]||(s[59]=(0,i.Lk)("div",{class:"handle-words"}," 第二时期图 ",-1))]))),128))]),_:1}),(0,i.bF)(me,{xs:10,sm:10,md:6,lg:6,xl:6},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(le.sharpenImg2,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},[(0,i.bF)(pe,{src:e,"preview-src-list":[e],"preview-teleported":!0},null,8,["src","preview-src-list"]),(0,i.Lk)("div",A,[s[61]||(s[61]=(0,i.eW)(" 锐化后的第二时期图 ",-1)),(0,i.Lk)("span",{onClick:s=>re.downloadimgWithWords(-1,e,"锐化处理后第二时期图.png")},[...s[60]||(s[60]=[(0,i.Lk)("i",{class:"iconfont icon-xiazai"},null,-1)])],8,S)])]))),128))]),_:1})]),_:1})],512),[[r.aG,4===le.upload.prehandle]])])):(0,i.Q3)("",!0)]),_:1}),(0,i.bF)(ae,null,{left:(0,i.k6)(()=>[...s[63]||(s[63]=[(0,i.Lk)("div",{id:"sub-title",style:{"font-size":"25px"}},[(0,i.eW)(" 结果图预览"),(0,i.Lk)("i",{class:"iconfont icon-dianji"})],-1)])]),_:1}),(0,i.bF)(ne),(0,i.bF)(ae,null,{left:(0,i.k6)(()=>[...s[64]||(s[64]=[(0,i.Lk)("p",null,[(0,i.eW)(" 对输出的结果图进行"),(0,i.Lk)("span",{class:"go-bold"},"多种渲染"),(0,i.Lk)("i",{class:"iconfont icon-xuanran"}),(0,i.Lk)("span",{class:"go-bold"},"，点击图片"),(0,i.eW)("即可预览 "),(0,i.Lk)("i",{class:"iconfont icon-duigou"})],-1)])]),mid:(0,i.k6)(()=>[0!==le.resultArr.length?((0,i.uX)(),(0,i.CE)("label",C,[(0,i.Lk)("input",{ref:"hole",type:"checkbox",checked:le.resultArr[le.currentIndex].is_hole,onClick:s[13]||(s[13]=(...e)=>re.toggleHoleStatus&&re.toggleHoleStatus(...e))},null,8,I),s[65]||(s[65]=(0,i.Lk)("span",{class:"checkmark"},null,-1)),s[66]||(s[66]=(0,i.Lk)("span",{class:"go-bold label-words"},[(0,i.Lk)("span",{class:"hidden-md-and-down"},"开启连通域滤波并填充"),(0,i.eW)("孔洞处理")],-1))])):(0,i.Q3)("",!0),(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"iconfont icon-qiehuan",onClick:s[14]||(s[14]=(...e)=>re.changePreMode&&re.changePreMode(...e))},"切换预览模式")])]),right:(0,i.k6)(()=>[(0,i.Lk)("p",null,[(0,i.Lk)("span",R,[(0,i.Lk)("i",{class:"iconfont icon-shuaxin",style:{"padding-right":"55px"},onClick:s[15]||(s[15]=(...e)=>re.getMore&&re.getMore(...e))},[...s[67]||(s[67]=[(0,i.Lk)("span",{class:"hidden-sm-and-down"},"点击刷新",-1)])])])])]),_:1}),(0,i.bF)(ge,{class:"render-box"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",F,[1===le.preMode?((0,i.uX)(),(0,i.CE)("div",E,[(0,i.Lk)("div",{id:"image-slider",onMousemove:s[16]||(s[16]=(...e)=>re.sliderMouseMove&&re.sliderMouseMove(...e)),onMousedown:s[17]||(s[17]=(...e)=>re.sliderMouseDown&&re.sliderMouseDown(...e)),onMouseup:s[18]||(s[18]=(...e)=>re.sliderMouseUp&&re.sliderMouseUp(...e)),onMouseleave:s[19]||(s[19]=(...e)=>re.sliderMouseLeave&&re.sliderMouseLeave(...e))},[(0,i.bo)((0,i.Lk)("div",null,[le.resultArr[le.currentIndex]?.data.mask&&!le.holeShow?((0,i.uX)(),(0,i.CE)("img",{key:0,src:le.resultArr[le.currentIndex].data.mask,alt:"mask",class:"mask-img"},null,8,$)):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.data.mask_hole&&le.holeShow?((0,i.uX)(),(0,i.CE)("img",{key:1,src:le.resultArr[le.currentIndex].data.mask_hole,alt:"mask",class:"mask-img"},null,8,W)):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.data.mask?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("img",{key:2,src:le.exampleArr[0].data.mask,alt:"mask",class:"mask-img"},null,8,X))],512),[[r.aG,!le.isHiddenMask]]),le.resultArr[le.currentIndex]?.before_img?((0,i.uX)(),(0,i.CE)("img",{key:0,src:le.resultArr[le.currentIndex].before_img,alt:""},null,8,M)):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.before_img?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("img",{key:1,src:le.exampleArr[0].before_img,alt:""},null,8,U)),(0,i.Lk)("div",P,[le.resultArr[le.currentIndex]?.before_img1?((0,i.uX)(),(0,i.CE)("img",{key:0,src:le.resultArr[le.currentIndex].before_img1,alt:""},null,8,B)):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.before_img1?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("img",{key:1,src:le.exampleArr[0].before_img1,alt:""},null,8,G))]),s[68]||(s[68]=(0,i.Lk)("div",{class:"handle"},[(0,i.Lk)("div",{class:"handle-line"}),(0,i.Lk)("div",{class:"handle-circle"}," «» "),(0,i.Lk)("div",{class:"handle-line"})],-1))],32)])):(0,i.Q3)("",!0),2===le.preMode?((0,i.uX)(),(0,i.CE)("div",Q,[(0,i.Lk)("div",j,[s[69]||(s[69]=(0,i.Lk)("p",{class:"handle-words"}," 第一时期 ",-1)),le.resultArr[le.currentIndex]?.before_img?((0,i.uX)(),(0,i.Wv)(pe,{key:0,"preview-src-list":[le.resultArr[le.currentIndex].before_img],"preview-teleported":!0,src:le.resultArr[le.currentIndex].before_img,fit:"cover"},null,8,["preview-src-list","src"])):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.before_img?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(pe,{key:1,"preview-src-list":[le.exampleArr[0].before_img],"preview-teleported":!0,src:le.exampleArr[0].before_img,fit:"cover"},null,8,["preview-src-list","src"]))]),(0,i.Lk)("div",O,[s[70]||(s[70]=(0,i.Lk)("p",{class:"handle-words"}," 第二时期 ",-1)),le.resultArr[le.currentIndex]?.before_img1?((0,i.uX)(),(0,i.Wv)(pe,{key:0,"preview-src-list":[le.resultArr[le.currentIndex].before_img1],"preview-teleported":!0,src:le.resultArr[le.currentIndex].before_img1,fit:"cover"},null,8,["preview-src-list","src"])):(0,i.Q3)("",!0),le.resultArr[le.currentIndex]?.before_img1?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(pe,{key:1,"preview-src-list":[le.exampleArr[0].before_img1],"preview-teleported":!0,src:le.exampleArr[0].before_img1,fit:"cover"},null,8,["preview-src-list","src"]))]),(0,i.Lk)("div",T,[s[71]||(s[71]=(0,i.Lk)("p",{class:"handle-words"}," 预测结果 ",-1)),(0,i.Lk)("div",D,[(0,i.bF)(r.eB,{"enter-active-class":"animate__animated animate__bounceIn","leave-active-class":"animate__animated animate__hinge"},{default:(0,i.k6)(()=>[le.holeShow?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",z,[le.onRenderResult&&!le.holeShow?((0,i.uX)(),(0,i.Wv)(pe,{key:0,"preview-src-list":[le.onRenderResult],"preview-teleported":!0,src:le.onRenderResult,fit:"cover",style:{width:"100%"}},null,8,["preview-src-list","src"])):(0,i.Q3)("",!0)]))]),_:1}),(0,i.bF)(r.eB,{"enter-active-class":"animate__animated animate__bounceIn","leave-active-class":"animate__animated animate__hinge"},{default:(0,i.k6)(()=>[le.holeShow?((0,i.uX)(),(0,i.CE)("div",V,[le.onRenderResult&&le.holeShow?((0,i.uX)(),(0,i.Wv)(pe,{key:0,"preview-src-list":[le.onRenderResult],"preview-teleported":!0,src:le.onRenderResult,fit:"cover",style:{width:"100%"}},null,8,["preview-src-list","src"])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),_:1})]),le.onRenderResult?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(pe,{key:0,"preview-src-list":[le.onRenderExample],"preview-teleported":!0,src:le.onRenderExample,fit:"cover",style:{width:"100%"}},null,8,["preview-src-list","src"]))])])):(0,i.Q3)("",!0),(0,i.Lk)("div",q,[(0,i.bo)((0,i.Lk)("div",H,[(0,i.bF)(ne),s[72]||(s[72]=(0,i.Lk)("div",{class:"style-title"}," 结果图渲染 ",-1)),(0,i.Lk)("label",K,[(0,i.Lk)("div",J,[(0,i.Lk)("div",{class:(0,l.C4)(["style-words normal",{"active-normal":"原图"===le.renderstyle}]),onClick:s[20]||(s[20]=e=>re.setOneWay("原图",0===le.resultArr.length,le.holeShow))},"原图",2),(0,i.Lk)("div",{class:(0,l.C4)(["style-words woods",{"active-woods":"森林"===le.renderstyle}]),onClick:s[21]||(s[21]=e=>re.setOneWay("森林",0===le.resultArr.length,le.holeShow))},"森林",2),(0,i.Lk)("div",{class:(0,l.C4)(["style-words neon",{"active-neon":"霓虹"===le.renderstyle}]),onClick:s[22]||(s[22]=e=>re.setOneWay("霓虹",0===le.resultArr.length,le.holeShow))},"霓虹",2),(0,i.Lk)("div",{class:(0,l.C4)(["style-words flash",{"active-flash":"闪电"===le.renderstyle}]),onClick:s[23]||(s[23]=e=>re.setOneWay("闪电",0===le.resultArr.length,le.holeShow))},"闪电",2),(0,i.Lk)("div",{class:(0,l.C4)(["style-words aurora",{"active-aurora":"极光"===le.renderstyle}]),onClick:s[24]||(s[24]=e=>re.setOneWay("极光",0===le.resultArr.length,le.holeShow))},"极光",2)])])],512),[[r.aG,2===le.preMode]]),0===le.resultArr.length?((0,i.uX)(),(0,i.CE)("p",N," 此图为预设展示图，供参考 ")):(0,i.Q3)("",!0),(0,i.bF)(ne,{style:{"margin-top":"0"}}),s[77]||(s[77]=(0,i.Lk)("div",{class:"style-title"}," 选择图片 ",-1)),le.resultArr.length?((0,i.uX)(),(0,i.CE)("div",Y,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Math.ceil(le.resultArr.length/5),(e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"list"},[(0,i.Lk)("div",{class:"list-number",onClick:e=>re.goRenderThese(s)},[(0,i.Lk)("div",null,(0,l.v_)(5*s+1)+"-----"+(0,l.v_)(5*(s+1)),1)],8,Z)]))),128)),(0,i.Lk)("div",ee,[s[74]||(s[74]=(0,i.eW)(" 下载此图片：",-1)),(0,i.bF)(oe,{type:"primary",style:{width:"60px"},class:"btn-animate btn-animate__shiny",onClick:s[25]||(s[25]=e=>re.downloadimgWithWords(le.resultArr[le.currentIndex].id,le.onRenderResult,`变化检测${le.renderstyle}渲染结果图${le.holeShow?"(已孔洞处理)":"(未孔洞处理)"}.png`))},{default:(0,i.k6)(()=>[...s[73]||(s[73]=[(0,i.eW)(" 下载 ",-1)])]),_:1})]),(0,i.Lk)("p",se,[(0,i.Lk)("span",null,[(0,i.Lk)("i",{class:"iconfont icon-dabaoxiazai",onClick:s[26]||(s[26]=(...e)=>re.goCompress&&re.goCompress(...e))},"所有结果图打包")])])])):((0,i.uX)(),(0,i.Wv)(ke,{key:2,"image-size":100})),(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(fe,{onChildVannish:re.vanishDrag},{"left-1":(0,i.k6)(()=>[s[75]||(s[75]=(0,i.eW)(" 变化建筑物个数：",-1)),(0,i.bo)((0,i.Lk)("span",null,(0,l.v_)(le.resultArr[le.currentIndex]?.data.count),513),[[r.aG,!le.holeShow]]),(0,i.bo)((0,i.Lk)("span",null,(0,l.v_)(le.resultArr[le.currentIndex]?.data.count_hole),513),[[r.aG,le.holeShow]])]),"rightIcon-1":(0,i.k6)(()=>[(0,i.bo)((0,i.Lk)("i",{class:"iconfont icon-yanjing-kai",onClick:s[27]||(s[27]=(...e)=>re.hideMask&&re.hideMask(...e))},null,512),[[r.aG,!le.isHiddenMask]]),(0,i.bo)((0,i.Lk)("i",{class:"iconfont icon-yanjing-guan",onClick:s[28]||(s[28]=(...e)=>re.hideMask&&re.hideMask(...e))},null,512),[[r.aG,le.isHiddenMask]])]),"left-2":(0,i.k6)(()=>[s[76]||(s[76]=(0,i.eW)(" 两时期变化百分比：",-1)),(0,i.bo)((0,i.Lk)("span",null,(0,l.v_)(le.resultArr[le.currentIndex]?.data.fractional_variation.toFixed(2))+"%",513),[[r.aG,!le.holeShow]]),(0,i.bo)((0,i.Lk)("span",null,(0,l.v_)(le.resultArr[le.currentIndex]?.data.fractional_variation_hole.toFixed(2))+"%",513),[[r.aG,le.holeShow]])]),_:1},8,["onChildVannish"])],512),[[r.aG,le.dragShow&&0!==le.resultArr.length]])])]),(0,i.Lk)("div",te,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(5,(e,s)=>(0,i.Lk)("div",{key:s,class:"img-box"},[le.resultArr[le.currentQroup+s]?.after_img?((0,i.uX)(),(0,i.Wv)(pe,{key:0,src:le.holeShow?le.resultArr[le.currentQroup+s]?.data.hole:le.resultArr[le.currentQroup+s]?.after_img,class:(0,l.C4)({"render-border":le.onRender===s}),onClick:e=>re.goRenderThis(s)},null,8,["src","class","onClick"])):(0,i.Q3)("",!0)])),64))]),(0,i.bo)((0,i.Lk)("div",{class:"drag-control hidden-md-and-down",onClick:s[29]||(s[29]=e=>le.dragShow=!0)},[...s[78]||(s[78]=[(0,i.Lk)("i",{class:"iconfont icon-cebianshouqi"},null,-1)])],512),[[r.aG,!le.dragShow]])]),_:1}),(0,i.bF)(ve)])}t(4114),t(8111),t(2489),t(7588),t(1701);var le=t(9857),re=t(3361),ae=t(2564),ne=t(104),oe=t(3490);const de={id:"cards",class:"drag-box"},ce={class:"infor-row"},he={class:"infor"},ue={class:"icon"},pe={class:"infor-row"},me={class:"infor"},ge={class:"icon"},ke={class:"drag-box-item"};function fe(e,s,t,r,a,n){const o=(0,i.g2)("el-divider"),d=(0,i.gN)("drag");return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",de,[s[2]||(s[2]=(0,i.Lk)("div",{class:"drag-title"}," 相关信息 ",-1)),(0,i.Lk)("span",{class:"shut-bitton",onClick:s[0]||(s[0]=(...e)=>n.shutDown&&n.shutDown(...e))},[...s[1]||(s[1]=[(0,i.Lk)("i",{class:"iconfont icon-guanbi"},null,-1)])]),(0,i.bF)(o,{style:{"margin-top":"10px"}}),(0,i.Lk)("div",ce,[(0,i.Lk)("div",he,[(0,i.RG)(e.$slots,"left-1",{},void 0,!0)]),(0,i.Lk)("div",ue,[(0,i.RG)(e.$slots,"rightIcon-1",{},void 0,!0)])]),(0,i.Lk)("div",pe,[(0,i.Lk)("div",me,[(0,i.RG)(e.$slots,"left-2",{},void 0,!0)]),(0,i.Lk)("div",ge,[(0,i.RG)(e.$slots,"rightIcon-2",{},void 0,!0)])]),(0,i.Lk)("div",ke,(0,l.v_)(a.childImgInfor.id),1),(0,i.RG)(e.$slots,"default",{},void 0,!0)])),[[d]])}var ve={name:"DraggableItem",props:{imgInfor:{type:Object,default:()=>({})}},emits:["child-vannish"],data(){return{childImgInfor:{}}},mounted(){this.childImgInfor=this.imgInfor},updated(){this.childImgInfor=this.imgInfor},methods:{shutDown(){this.$emit("child-vannish")}}},be=t(1241);const Le=(0,be.A)(ve,[["render",fe],["__scopeId","data-v-2d671402"]]);var we=Le,ye=t(3212),_e={name:"Detectchanges",components:{Tabinfor:ne.A,Bottominfor:oe.A,DraggableItem:we},beforeRouteEnter(e,s,t){t(e=>{document.querySelector(".el-main").scrollTop=0})},data(){return{holeShow:!0,isSliderLocked:!1,preMode:1,pairs:[],hisPairs:[],shaPairs:[],canUpload:!0,onRender:0,isUpload:!0,hisNum:0,value:null,renderstyle:"原图",funtype:"变化检测",scrollTop:"",currentQroup:0,currentIndex:0,fileList1:[],fileList2:[],uploadSrc1:[],uploadSrc2:[],uploadSrc:[],upload:{window_size:256,stride:128,list:[{first:"",second:""}],prehandle:0,denoise:0,model_path:""},modelPathArr:[],uploadSrc3:[],uploadSrc4:[],histogramSrc:[],myhistogram:{list:[{first:"",second:""}],prehandle:0},Img1:[],Img2:[],Img3:[],sharpenSrc1:[],sharpenSrc2:[],sharpenSrc:[],mysharpen:{list:[{first:"",second:""}],prehandle:0},sharpenImg1:[],sharpenImg2:[],preHandle:{list:[{first:"",second:""}]},hole:{id:""},resultArr:[],devidedArr:[],onRenderResult:"",exampleArr:[{before_img:t(4999),before_img1:t(6892),after_img:t(4526),data:{0:t(5321),1:t(2043),2:t(3249),3:t(2063),mask:t(9295)}}],onRenderExample:t(4526),isHiddenMask:!1,dragShow:!0,sizeValue:[0,200]}},created(){this.getMore(),this.getCustomModel("change_detection").then(e=>{this.modelPathArr=e.data.data,this.upload.model_path=this.modelPathArr[0]?.model_path}).catch(e=>{})},methods:{downloadimgWithWords:re.Lf,historyGetPage:ae.q,imgUpload:le.vh,getCustomModel:le.bB,createSrc:le.Dr,getImgArrayBuffer:re.h0,atchDownload:re.hz,histogramUpload:le.S6,clearQueue(){this.fileList1=[],this.fileList2=[],this.$message.success("清除成功")},goRenderThis(e){this.currentIndex=this.currentQroup,this.currentIndex+=e,this.onRender=e,this.setOneWay(this.renderstyle)},goRenderThese(e){this.currentQroup=5*e,this.currentIndex=5*e,this.goRenderThis(0)},setOneWay(e,s,t){if(this.renderstyle=e,s)switch(e){case"原图":this.onRenderExample=this.exampleArr[0].after_img;break;case"森林":this.onRenderExample=this.exampleArr[0].data[2];break;case"霓虹":this.onRenderExample=this.exampleArr[0].data[3];break;case"闪电":this.onRenderExample=this.exampleArr[0].data[0];break;case"极光":this.onRenderExample=this.exampleArr[0].data[1];break}else if(t)switch(e){case"原图":this.onRenderResult=this.resultArr[this.currentIndex].data.hole;break;case"森林":this.onRenderResult=this.resultArr[this.currentIndex].data.hole_style[2];break;case"霓虹":this.onRenderResult=this.resultArr[this.currentIndex].data.hole_style[3];break;case"闪电":this.onRenderResult=this.resultArr[this.currentIndex].data.hole_style[0];break;case"极光":this.onRenderResult=this.resultArr[this.currentIndex].data.hole_style[1];break}else switch(e){case"原图":this.onRenderResult=this.resultArr[this.currentIndex].after_img;break;case"森林":this.onRenderResult=this.resultArr[this.currentIndex].data[2];break;case"霓虹":this.onRenderResult=this.resultArr[this.currentIndex].data[3];break;case"闪电":this.onRenderResult=this.resultArr[this.currentIndex].data[0];break;case"极光":this.onRenderResult=this.resultArr[this.currentIndex].data[1];break}},uploadfile(){if(this.uploadSrc=[],this.upload.window_size!==this.upload.stride)if(this.fileList1.length!==this.fileList2.length||0===this.fileList1.length)this.$message.error("请按照要求上传文件夹或图片！");else{let e=new FormData,s=new FormData;for(const l of this.fileList1)e.append("files",l)||e.append("files",l.raw),e.append("type","变化检测");for(const l of this.fileList2)s.append("files",l)||s.append("files",l.raw),s.append("type","变化检测");let t=new Promise((s,t)=>{this.createSrc(e).then(e=>{this.uploadSrc1=e.data.data,s()}).catch(e=>{})}),i=new Promise((e,t)=>{this.createSrc(s).then(s=>{this.uploadSrc2=s.data.data,e()}).catch(e=>{})});Promise.all([t,i]).then(e=>{this.uploadSrc=this.uploadSrc1.concat(this.uploadSrc2),this.uploadSrc=this.uploadSrc.map(e=>({filename:e.filename.substring(e.filename.indexOf("/")+1,e.length),src:e.src})),this.pairs=this.uploadSrc.map(e=>e.filename.substring(e.filename.indexOf("/")+1,e.length)),this.checkPairs(this.pairs),this.canUpload?(this.upload.list=this.getList(this.uploadSrc),this.imgUpload(this.upload,"change_detection").then(e=>{this.$refs.uploadA.clearFiles(),this.$refs.uploadB.clearFiles(),this.fileList1=[],this.fileList2=[],this.$message.success("上传成功"),this.isUpload=!0,this.getMore(),this.upload.list.length>=10&&this.$confirm("上传图片过多，是否压缩?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.goCompress(this.upload.list.length)}).catch(()=>{})}).catch(e=>{})):this.$message.error("检测到命名对应失败的图片，请检查您的文件命名")}).catch(e=>{})}else this.$message.error("窗口大小不能等于步长")},getList(e){let s=[],t=[];for(let i=0;i<e.length;i++){if(-1!==s.indexOf(e[i].filename)){for(let s=0;s<t.length;s++)Reflect.deleteProperty(t[s],"photo_id"),t[s].first=t[s].src,t[s].second=e[i+s].src;break}t.push(e[i]),s.push(e[i].filename)}return t},goCompress(e){this.$message.success("正在下载压缩"),this.historyGetPage(1,e,"变化检测").then(e=>{this.atchDownload(e.data.data.map(e=>({after_img:e.after_img,id:e.id})))}).catch(e=>{})},getMore(){this.historyGetPage(1,20,"变化检测").then(e=>{e.data.data.forEach(e=>{e["before_img1"]=ye.A.BASEURL+e.before_img1,e["before_img"]=ye.A.BASEURL+e.before_img,e["after_img"]=ye.A.BASEURL+e.after_img,e.data["hole"]=ye.A.BASEURL+e.data["hole"],e.data["hole_style"][0]=ye.A.BASEURL+e.data["hole_style"][0],e.data["hole_style"][1]=ye.A.BASEURL+e.data["hole_style"][1],e.data["hole_style"][2]=ye.A.BASEURL+e.data["hole_style"][2],e.data["hole_style"][3]=ye.A.BASEURL+e.data["hole_style"][3],e.data[0]=ye.A.BASEURL+e.data[0],e.data[1]=ye.A.BASEURL+e.data[1],e.data[2]=ye.A.BASEURL+e.data[2],e.data[3]=ye.A.BASEURL+e.data[3],e.data["mask"]=ye.A.BASEURL+e.data.mask,e.data["mask_hole"]=ye.A.BASEURL+e.data.mask_hole}),this.resultArr=e.data.data,this.onRenderResult=this.resultArr[this.currentIndex].after_img}).catch(e=>{})},selectHistogram(){if(!0===this.$refs.histogram.checked)if(this.fileList1.length!==this.fileList2.length||0===this.fileList1.length)1===this.upload.prehandle?(this.$refs.histogram.checked=!1,this.upload.prehandle=0):(this.$refs.histogram.checked=!1,this.$message.error("请先按要求上传图片"));else{this.upload.prehandle=1,this.myhistogram.prehandle=1,this.$message.success("直方图处理"),!0===this.$refs.sharpen.checked&&(this.$refs.sharpen.checked=!1);let e=new FormData,s=new FormData;for(const l of this.fileList1)e.append("files",l)||e.append("files",l.raw),e.append("type","变化检测");for(const l of this.fileList2)s.append("files",l)||s.append("files",l.raw),s.append("type","变化检测");let t=new Promise((s,t)=>{this.createSrc(e).then(e=>{this.uploadSrc3=e.data.data.splice(0,3),this.Img1=this.uploadSrc3.map(e=>ye.A.BASEURL+e.src),s()}).catch(e=>{})}),i=new Promise((e,t)=>{this.createSrc(s).then(s=>{this.uploadSrc4=s.data.data.splice(0,3),this.Img3=this.uploadSrc4.map(e=>ye.A.BASEURL+e.src),e()}).catch(e=>{})});Promise.all([t,i]).then(e=>{this.histogramSrc=this.uploadSrc3.concat(this.uploadSrc4),this.histogramSrc=this.histogramSrc.map(e=>({filename:e.filename.substring(e.filename.indexOf("/")+1,e.length),src:e.src})),this.hisPairs=this.histogramSrc.map(e=>e.filename.substring(e.filename.indexOf("/")+1,e.length)),this.checkPairs(this.hisPairs),this.canUpload?(this.myhistogram.list=this.getList(this.histogramSrc),this.histogramUpload(this.myhistogram).then(e=>{this.Img2=e.data.data.map(e=>ye.A.BASEURL+e),this.Img2=this.Img2.splice(0,3)}).catch(e=>{})):(this.$message.error("检测到命名对应失败的图片，请检查您的文件命名"),this.Img1=[],this.Img3=[])}).catch(e=>{})}else this.$message.success("取消直方图处理"),this.upload.prehandle=0,this.myhistogram.prehandle=0},selectSharpen(){if(this.fileList1.length!==this.fileList2.length||0===this.fileList1.length)4===this.upload.prehandle?(this.$refs.sharpen.checked=!1,this.upload.prehandle=0):(this.$refs.sharpen.checked=!1,this.$message.error("请先按要求上传图片"));else if(!0===this.$refs.histogram.checked&&(this.$refs.histogram.checked=!1),!1===this.$refs.sharpen.checked)this.myhistogram.prehandle=0,this.$message.success("取消锐化处理"),this.upload.prehandle=0;else{this.$message.success("锐化处理"),this.upload.prehandle=4,this.mysharpen.prehandle=4;let e=new FormData,s=new FormData;for(const l of this.fileList1)e.append("files",l)||e.append("files",l.raw),e.append("type","变化检测");for(const l of this.fileList2)s.append("files",l)||s.append("files",l.raw),s.append("type","变化检测");let t=new Promise((s,t)=>{this.createSrc(e).then(e=>{this.sharpenSrc1=e.data.data.splice(0,3),this.Img1=this.sharpenSrc1.map(e=>ye.A.BASEURL+e.src),s()}).catch(e=>{})}),i=new Promise((e,t)=>{this.createSrc(s).then(s=>{this.sharpenSrc2=s.data.data.splice(0,3),this.Img3=this.sharpenSrc2.map(e=>ye.A.BASEURL+e.src),e()}).catch(e=>{})});Promise.all([t,i]).then(e=>{this.sharpenSrc=this.sharpenSrc1.concat(this.sharpenSrc2),this.sharpenSrc=this.sharpenSrc.map(e=>({filename:e.filename.substring(e.filename.indexOf("/")+1,e.length),src:e.src})),this.shaPairs=this.sharpenSrc.map(e=>e.filename.substring(e.filename.indexOf("/")+1,e.length)),this.checkPairs(this.hisPairs),this.canUpload?(this.mysharpen.list=this.getList(this.sharpenSrc),this.histogramUpload(this.mysharpen).then(e=>{this.sharpenImg1=e.data.data.map(e=>ye.A.BASEURL+e.first),this.sharpenImg2=e.data.data.map(e=>ye.A.BASEURL+e.second)}).catch(()=>{})):(this.$message.error("检测到命名对应失败的图片，请检查您的文件命名"),this.Img1=[],this.Img3=[])}).catch(e=>{})}},selectFilter(){!0===this.$refs.smooth.checked&&(this.$refs.smooth.checked=!1),!1===this.$refs.filter.checked?(this.$message.success("取消高斯滤波处理"),this.upload.denoise=0):(this.$message.success("高斯滤波处理"),this.upload.denoise=5)},selectSmooth(){!0===this.$refs.filter.checked&&(this.$refs.filter.checked=!1),!1===this.$refs.smooth.checked?(this.$message.success("取消平滑处理"),this.upload.denoise=0):(this.$message.success("平滑处理"),this.upload.denoise=3)},toggleHoleStatus(){this.resultArr[this.currentIndex].is_hole=!this.resultArr[this.currentIndex].is_hole,this.holeShow=!this.holeShow,this.setOneWay(this.renderstyle,0===this.resultArr.length,this.holeShow)},uploadFirst(){this.checkFile1(...this.$refs.refFileA.files),this.canUpload?this.fileList1.push(...this.$refs.refFileA.files):setTimeout(()=>{this.$message.error("检测到您上传的文件夹内存在不符合规范的图片类型")},1e3)},uploadSecond(){this.checkFile2(...this.$refs.refFileB.files),this.canUpload?this.fileList2.push(...this.$refs.refFileB.files):setTimeout(()=>{this.$message.error("检测到您上传的文件夹内存在不符合规范的图片类型")},1e3)},file1Click(){document.querySelector("#upload-fileA").click()},file2Click(){document.querySelector("#upload-fileB").click()},checkFile1(e){const s=["jpg","jpeg","png","JPG","JPEG"],t=e.name.substring(e.name.lastIndexOf(".")+1);-1===s.indexOf(t)?(this.$message.error("只允许上传jpg, jpeg, png, JPG, 或JPEG格式,请重新上传"),this.fileList1=[],this.canUpload=!1):this.canUpload=!0},checkFile2(e){const s=["jpg","jpeg","png","JPG","JPEG"],t=e.name.substring(e.name.lastIndexOf(".")+1);-1===s.indexOf(t)?(this.$message.error("只允许上传jpg, jpeg, png, JPG, 或JPEG格式,请重新上传"),this.fileList2=[],this.canUpload=!1):this.canUpload=!0},checkPairs(e){let s=e.join(",")+",",t=0;for(let i=0;i<e.length;i++)if(!(s.replace(e[i]+",","").indexOf(e[i]+",")>-1)){t++;break}this.canUpload=0===t},changePreMode(){1===this.preMode?this.preMode=2:this.preMode=1},sliderMouseMove(e){const s=document.querySelector("#image-slider"),t=document.querySelector(".img-wrapper"),i=document.querySelector(".handle");if(this.isSliderLocked)return;const l=s.offsetLeft,r=s.clientWidth,a=i.clientWidth;let n=e.clientX-l;n<0?n=0:n>r&&(n=r),t.style.width=`${(100*(1-n/r)).toFixed(4)}%`,i.style.left=`calc(${(n/r*100).toFixed(4)}% - ${a/2}px)`},sliderMouseDown(){this.isSliderLocked&&(this.isSliderLocked=!1),this.sliderMouseMove(event)},sliderMouseUp(){this.isSliderLocked||(this.isSliderLocked=!0)},sliderMouseLeave(){this.isSliderLocked&&(this.isSliderLocked=!1)},vanishDrag(){this.dragShow=!1},hideMask(){this.isHiddenMask=!this.isHiddenMask}}};const xe=(0,be.A)(_e,[["render",ie],["__scopeId","data-v-1511cb98"]]);var Ae=xe},4526:function(e,s,t){e.exports=t.p+"img/normal.b3e6dbeb.png"},4999:function(e,s,t){e.exports=t.p+"img/test_50_1.6cc216aa.png"},5321:function(e,s,t){e.exports=t.p+"img/flash.bb8ad539.png"},6892:function(e,s,t){e.exports=t.p+"img/test_50_2.9812220c.png"},9295:function(e,s,t){e.exports=t.p+"img/mask.5646ddfe.png"},9857:function(e,s,t){t.d(s,{Dr:function(){return c},bB:function(){return m},S6:function(){return u},vh:function(){return h},WS:function(){return p}});var i=t(788),l=t.n(i),r=t(3212),a=t(6878),n=t(2493);function o(e){const s=l().create({baseURL:r.A.BASEURL,transformRequest:[function(e,s){return delete s.post["Content-Type"],e}]});return s.interceptors.request.use(e=>(e.headers.Accept="multipart/form-data",e.headers["Content-Type"]="multipart/form-data",e),e=>Promise.reject(e)),s.interceptors.response.use(e=>0!==e.data.code?((0,n.IB)("#load"),a.nk.error(e.data.msg),Promise.reject()):e,({response:e})=>Promise.reject(error)),s(e)}var d=t(7277);function c(e){return o({method:"POST",url:"/api/file/upload",data:e,transformRequest:[function(e,s){return delete s.post["Content-Type"],e}],headers:{"Content-Type":"multipart/form-data"}})}function h(e,s){return(0,d.E)({method:"POST",url:`/api/analysis/${s}`,data:e})}function u(e){return(0,d.E)({method:"POST",url:"/api/analysis/histogram_match",data:e})}function p(e){return(0,d.E)({method:"POST",url:"/api/analysis/image_pre",data:e})}function m(e){return(0,d.E)({method:"GET",url:`/api/model/list/${e}`})}}}]);
//# sourceMappingURL=620.5ca83003.js.map